// android/app/build.gradle
plugins {
  id "com.android.application"
  id "org.jetbrains.kotlin.android"
  id "dev.flutter.flutter-gradle-plugin"
  id "com.google.gms.google-services"
}

android {
  namespace = "api.onlinecalculatorpro.cinepulse"
  compileSdk = flutter.compileSdkVersion

  defaultConfig {
    applicationId = "api.onlinecalculatorpro.cinepulse"
    minSdk = 24
    targetSdk = flutter.targetSdkVersion
    versionCode = flutter.versionCode
    versionName = flutter.versionName
  }

  buildTypes {
    debug {
      minifyEnabled = false
      shrinkResources = false
    }
    release {
      minifyEnabled = false
      shrinkResources = false
      signingConfig = signingConfigs.debug
    }
  }

  compileOptions {
    coreLibraryDesugaringEnabled = true
    sourceCompatibility = JavaVersion.VERSION_17
    targetCompatibility = JavaVersion.VERSION_17
  }
  kotlinOptions { jvmTarget = "17" }

  packaging {
    resources {
      excludes += [
        "META-INF/DEPENDENCIES",
        "META-INF/NOTICE",
        "META-INF/LICENSE",
        "META-INF/LICENSE.txt",
        "META-INF/NOTICE.txt",
        "META-INF/ASL2.0"
      ]
    }
  }
}

flutter { source = "../.." }

dependencies {
  coreLibraryDesugaring "com.android.tools:desugar_jdk_libs:2.0.4"
  implementation platform("com.google.firebase:firebase-bom:33.6.0")
  implementation "com.google.firebase:firebase-messaging"
}
