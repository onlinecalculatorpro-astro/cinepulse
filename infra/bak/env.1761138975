ENV=prod
TZ=UTC
LANG=C.UTF-8
PYTHONUNBUFFERED=1

# Core services
REDIS_URL=redis://redis:6379/0
FEED_KEY=feed:items
DATABASE_URI=postgresql+psycopg://postgres:postgres@db:5432/cinepulse

# API CORS (frontend app)
CORS_ORIGINS=https://cinepulse.netlify.app

# Rate limits / batching
MAX_SCAN=400
BATCH_SIZE=200
RL_FEED_PER_MIN=120
RL_SEARCH_PER_MIN=90
RL_STORY_PER_MIN=240

# Summarizer tuning
SUMMARY_TARGET_WORDS=85
SUMMARY_MIN_WORDS=60
SUMMARY_MAX_WORDS=110
SUMMARY_PASSTHROUGH_MIN_CHARS=220
SUMMARY_PASSTHROUGH_MAX_CHARS=1200
SUMMARY_PASSTHROUGH_MIN_SENTENCES=2
FEED_ALLOWED_INDUSTRIES=bollywood

# Internal service URL (container-to-container)
RENDERER_URI=http://renderer:8000

# Source catalog
USE_SOURCES_FILE=1
SOURCES_FILE=/app/source.yml

# Scheduler cadence
POLL_INTERVAL_MIN=120
PUBLISHED_AFTER_HOURS=72
POLL_SPREAD_SEC=2.0
POLL_JITTER_SEC=10
ONE_SHOT=

# Per-feed caps
YT_MAX_ITEMS=20
RSS_MAX_ITEMS=100

# Webhooks / WebSub â€” single public endpoint via Nginx
PUBLIC_BASE_URL=https://api.onlinecalculatorpro.org
AUTO_SUBSCRIBE_ON_START=1
WEBHOOK_LEASE_SEC=86400
YT_PULL_WINDOW_HOURS=72
RSS_PULL_WINDOW_HOURS=48
WEBHOOK_SHARED_SECRET=
